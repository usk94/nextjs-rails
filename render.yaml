services:
  - type: web
    name: nextjs-rails
    env: ruby
    buildCommand: "./backend/bin/render-build.sh"
    startCommand: "bundle exec puma -C ./backend/config/puma.rb ./backend/config.ru"
    envVars:
      - key: RAILS_MASTER_KEY
        sync: false

  - type: redis
    name: nextjs-rails-redis
    region: singapore
    plan: free
    maxmemoryPolicy: allkeys-lru
    ipAllowList: []
